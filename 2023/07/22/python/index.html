<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>python（基础篇）笔记 | Oracle の blog</title><meta name="author" content="Oracle"><meta name="copyright" content="Oracle"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="python基础语法的学习记录">
<meta property="og:type" content="article">
<meta property="og:title" content="python（基础篇）笔记">
<meta property="og:url" content="http://www.baoyf.com/2023/07/22/python/index.html">
<meta property="og:site_name" content="Oracle の blog">
<meta property="og:description" content="python基础语法的学习记录">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img1.imgtp.com/2023/07/30/1Bio7AKP.png">
<meta property="article:published_time" content="2023-07-21T16:30:00.000Z">
<meta property="article:modified_time" content="2023-09-14T08:55:01.389Z">
<meta property="article:author" content="Oracle">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img1.imgtp.com/2023/07/30/1Bio7AKP.png"><link rel="shortcut icon" href="/./img/fav.png"><link rel="canonical" href="http://www.baoyf.com/2023/07/22/python/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Oracle","link":"链接: ","source":"来源: Oracle の blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'python（基础篇）笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-14 16:55:01'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img1.imgtp.com/2023/07/30/1Bio7AKP.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Oracle の blog"><span class="site-name">Oracle の blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">python（基础篇）笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-21T16:30:00.000Z" title="发表于 2023-07-22 00:30:00">2023-07-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-09-14T08:55:01.389Z" title="更新于 2023-09-14 16:55:01">2023-09-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>48分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="python（基础篇）笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>python基础知识</h1>
<h2 id="引言">引言</h2>
<p>作为我第一门系统学习的解释性脚本语言，先理解解释型语言和编译型语言的区别<br>
<strong>编译型源代码–&gt;编译器–&gt;可执行文件</strong>   （一次编译，多次运行，效率高，移植性差）<br>
<strong>解释型源代码–&gt;解释器</strong><br>
故首先需按安装python解释器，本文以<code>3.10.11</code>为准<br>
在没有IDE的情况下，我们有两种方法执行python代码:</p>
<ol>
<li>
<p>交互式命令行</p>
</li>
<li>
<p>运行文本文件<br>
<img src="https://img1.imgtp.com/2023/07/21/jsHferfQ.png" alt="交互式命令行"><br>
<img src="https://img1.imgtp.com/2023/07/21/4Vy3MQ4z.png" alt="运行文本文件"><br>
首先我们需要用dos命令找到安装的python解释器（若将其添加到全局PATH中，可省略）<br>
<code>dir</code>   显示当前路径下的文件夹<br>
<code>cd</code>   转到对应路径（仅限同一盘符)cd …/ 回退一级<br>
<code>D:</code>   转移到对应盘符<br>
<code>tab</code>  补全输入内容</p>
</li>
</ol>
<p>为了便捷，接下来都将以**Pycharm(22.10.3 professional)**作为集成开发环境辅助学习</p>
<hr>
<h2 id="基本语法">基本语法</h2>
<p>首先补充基本的输入输出函数<br>
<code>ctrl</code>+<code>左键点击</code>可查看内置函数的源码<br>
<strong>input</strong> &amp;&amp; <strong>print</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = input(&quot;请输入姓名:&gt;&quot;)</span><br><span class="line">age = input(&quot;请输入年龄:&gt;&quot;)</span><br><span class="line">print(f&quot;姓名：&#123;name&#125; 年龄：&#123;age&#125;&quot;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>input默认接收的均为字符串，可用类型转换函数type(s)转换</p>
</blockquote>
<h3 id="语法结构">语法结构</h3>
<h4 id="1-语句分隔符">1.语句分隔符</h4>
<p>python中通常以<code>换行符</code>作为语句分隔符<br>
若想在同一行中执行多句语句，也可用<code>;</code>作为分隔（不推荐，不符合pep8规范）</p>
<blockquote>
<p>python代码应符合pep8规范，在pycharm中，绿色波浪线代表违反规范，按Ctrl+Alt+L可一键调整</p>
</blockquote>
<p>一行写一条语句，大大提高代码的可读性和规范性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">1</span>+<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;welcome&quot;</span>); <span class="built_in">print</span>(<span class="string">&quot;BYF&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><code>注意</code>：python代码缩进要求严格，允许空行，不可缩进</p>
<h4 id="2-注释">2.注释</h4>
<p>python中用<code>#</code>单行注释<br>
三引号（单引号或双引号均可）多行注释</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random  <span class="comment"># 导入获取随机数的random模块</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>(random.random()*<span class="number">100</span>)) <span class="comment"># 生成一到100的随机整数</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">这是多行注释</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="变量">变量</h3>
<p>特性:</p>
<ol>
<li>多次使用（不会被垃圾回收机制回收）</li>
<li>值可修改 （和编译型语言不同，修改时指向变化，原值被回收）</li>
</ol>
<blockquote>
<p>变量名应符合规范</p>
</blockquote>
<h3 id="基本数据类型">基本数据类型</h3>
<p>基本数据类型：</p>
<ol>
<li>整型与浮点型</li>
<li>bool类型（True、False）</li>
<li>字符串</li>
</ol>
<blockquote>
<p>python内置函数type()返回数据类型名</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">10</span>))  <span class="comment">#&lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">2.5</span>))  <span class="comment">#&lt;class &#x27;float&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">10</span> &gt; <span class="number">5</span>))  <span class="comment">#&lt;class &#x27;bool&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="string">&quot;hello world&quot;</span>))  <span class="comment">#&lt;class &#x27;str&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>内置函数bool，可求变量或表达式的bool值<br>
零值：所有数据类型中有且仅有一个值的bool类型为False 字符串 &quot;&quot;列表 [] 字典 {}</p>
</blockquote>
<p>字符串作用：</p>
<ol>
<li>展示文本</li>
<li>储存数据</li>
<li>传递字节</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&quot;hello a1&quot;</span>  <span class="comment"># 方式1</span></span><br><span class="line">s1 = <span class="string">&#x27;hello a2&#x27;</span>  <span class="comment"># 方式2</span></span><br><span class="line">s3 = <span class="string">&quot;&quot;&quot;         </span></span><br><span class="line"><span class="string">        1. 购买道具</span></span><br><span class="line"><span class="string">        2. 攻击</span></span><br><span class="line"><span class="string">        3. 逃跑</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>              <span class="comment"># 方式3</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串基本操作">字符串基本操作</h4>
<p><strong>转义符</strong>  <code>\</code></p>
<ol>
<li>给予普通符号特殊功能</li>
<li>将具有特殊功能的符号普通化</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>\&quot;</code></td>
<td style="text-align:center">双引号</td>
</tr>
<tr>
<td style="text-align:center"><code>\\</code></td>
<td style="text-align:center">反斜杠</td>
</tr>
<tr>
<td style="text-align:center"><code>\n</code></td>
<td style="text-align:center">换行符</td>
</tr>
<tr>
<td style="text-align:center"><code>\t</code></td>
<td style="text-align:center">制表符</td>
</tr>
<tr>
<td style="text-align:center"><code>\r</code></td>
<td style="text-align:center">回车符</td>
</tr>
<tr>
<td style="text-align:center"><code>\'</code></td>
<td style="text-align:center">单引号</td>
</tr>
</tbody>
</table>
<p><strong>格式化输出</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;byf&quot;</span></span><br><span class="line">username = <span class="string">&quot;Oracle&quot;</span></span><br><span class="line">passwd = <span class="number">123456</span></span><br><span class="line"><span class="comment"># 方式1（不推荐）</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello %s!,your username is %s,your passwd is %d&quot;</span> % (name, username, passwd))</span><br><span class="line"><span class="comment"># 方式2（3.6版本后可用）</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;hello <span class="subst">&#123;name&#125;</span>!,your username is <span class="subst">&#123;username&#125;</span>,your passwd is <span class="subst">&#123;passwd&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="字符串序列操作">字符串序列操作</h4>
<blockquote>
<p>python支持负索引，从右（-1）到左依次减一<br>
字符串是不可变的，不能像列表一样修改其中某个数据</p>
</blockquote>
<p><strong>索引操作</strong>  查询字符   ： 字符串[索引]<br>
<code>print(s[0])</code></p>
<hr>
<p><strong>切片操作</strong> 获取字符串  ： 字符串[开始索引:结束索引:步长(默认为1)]（顾头不顾尾）<br>
<code>print(s[0:5])</code>缺省默认从头尾取<br>
步长为2时，隔一个取一个字符，以此类推<br>
步长为负时，从右向左取<br>
<strong>一个有趣的应用</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串倒序</span></span><br><span class="line"><span class="built_in">print</span>(s[::-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>拼接操作</strong>  字符串1+字符串2  ||  字符串*int</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1 = &quot;hello &quot;</span><br><span class="line">s2 = &quot;Oracle&quot;</span><br><span class="line">print(s1+s2)</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>计算字符串长度</strong>   内置函数len<br>
<code>print(len(s1))</code></p>
<blockquote>
<p>中文算作一个字符</p>
</blockquote>
<hr>
<p><strong>in判断</strong>  判断某个成员是否存在（返回bool类型）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&quot;hello Oracle&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span> <span class="keyword">in</span> s1)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>
<h4 id="字符串内置方法">字符串内置方法</h4>
<table>
<thead>
<tr>
<th style="text-align:center">内置函数</th>
<th style="text-align:center">功能</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">upper</td>
<td style="text-align:center">将字符串中所有字符转化为大写</td>
<td style="text-align:left">s1.upper()</td>
</tr>
<tr>
<td style="text-align:center">lower</td>
<td style="text-align:center">~转化为小写</td>
<td style="text-align:left">s1.lower()</td>
</tr>
<tr>
<td style="text-align:center">startswith</td>
<td style="text-align:center">判断字符串是否以…开头(返回bool)</td>
<td style="text-align:left">s1.startswith(“hello”)</td>
</tr>
<tr>
<td style="text-align:center">endswith</td>
<td style="text-align:center">判断是否以…结尾</td>
<td style="text-align:left">s2.endswith(&quot;.jpg&quot;)</td>
</tr>
<tr>
<td style="text-align:center">isdigit</td>
<td style="text-align:center">判断是否为纯数字字符串</td>
<td style="text-align:left">s2.isdigit()</td>
</tr>
<tr>
<td style="text-align:center">strip</td>
<td style="text-align:center">去除字符串两端的空格或换行符</td>
<td style="text-align:left">s2.strip()</td>
</tr>
<tr>
<td style="text-align:center">join</td>
<td style="text-align:center">把列表中的字符串按一分隔符拼接</td>
<td style="text-align:left">“,”.join(list)</td>
</tr>
<tr>
<td style="text-align:center">split</td>
<td style="text-align:center">把字符串按一分隔符分割，存到列表中</td>
<td style="text-align:left">cities.split(&quot;,&quot;)</td>
</tr>
</tbody>
</table>
<p><strong>其他方法</strong>：</p>
<ol>
<li>find    搜索指定字符串，返回索引，没有返回-1</li>
<li>index   功能同上，但找不到时报错</li>
<li>count  计算字符串中子串出现的顺序</li>
<li>replace  将字符串中字串替换为指定字符串</li>
<li>center  将字符串左右添加填充符到指定长度</li>
<li>encode  将字符串按指定方式编码</li>
</ol>
<blockquote>
<p>replace 缺省默认全部替换，传入int型可指定替换个数</p>
</blockquote>
<h3 id="运算符">运算符</h3>
<p>计算运算符：<code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>、<code>%</code><br>
比较运算符：<code>&gt;</code>、<code>&lt;</code>、<code>&gt;=</code>、<code>&lt;=</code>、<code>==</code>、<code>!=</code></p>
<blockquote>
<p>返回类型为bool</p>
</blockquote>
<p>赋值运算符：<code>=</code>、<code>+=</code>、<code>-=</code>、<code>/=</code>、<code>*=</code>、<code>%=</code><br>
逻辑运算符：<code>and</code>、<code>or</code>、<code>not</code></p>
<blockquote>
<p>python范围判断可以直接写成 18&lt;age&lt;35</p>
</blockquote>
<p>成员运算符：<code>in</code></p>
<h3 id="流程控制语句">流程控制语句</h3>
<p><strong>多分支语句</strong></p>
<blockquote>
<p>注意四个空格的缩进和英文冒号</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;输入你的年龄:&gt;&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;欢迎访问&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;禁止访问&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>多分支</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">weight = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入你的体重(公斤):&gt;&quot;</span>))</span><br><span class="line">height = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入你的身高(米):&gt;&quot;</span>))</span><br><span class="line">BMI = weight / height ** <span class="number">2</span></span><br><span class="line"><span class="keyword">if</span> BMI &lt; <span class="number">18.5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;偏瘦&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> BMI &lt; <span class="number">24</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;正常&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> BMI&lt; <span class="number">28</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;超重&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;肥胖&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>循环语句</strong></p>
<p>while循环</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> count &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;count =&quot;</span>, count)</span><br><span class="line">    count += <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>for循环<br>
对一个序列（如字符串、列表、元组）进行遍历操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lis = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> lis:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;i&quot;</span>, i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">100</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;i&quot;</span>, i)</span><br></pre></td></tr></table></figure>
<p><code>break</code>  退出整个循环<br>
<code>continue</code>  退出当前循环</p>
<hr>
<h3 id="高阶数据类型">高阶数据类型</h3>
<h4 id="列表">列表</h4>
<p><code>[]</code>内以逗号分隔，按照索引存放各种数据类型<br>
可修改指定索引位置对应的值</p>
<p><strong>列表的操作</strong><br>
追加：数据被追加到尾部</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">letter = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">letter.append(<span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(letter)</span><br></pre></td></tr></table></figure>
<p>插入：可插入列表中任一位置(也可用此方法嵌套列表)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">letter = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">letter.insert(<span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(letter)</span><br><span class="line"></span><br><span class="line">letter = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">letter.insert(<span class="number">2</span>, [<span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(letter[<span class="number">2</span>][<span class="number">1</span>])  <span class="comment"># y</span></span><br></pre></td></tr></table></figure>
<p>合并：把另一列表的值合并进来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">letter1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]</span><br><span class="line">letter2 = [<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">letter1.extend(letter2)</span><br><span class="line"><span class="built_in">print</span>(letter1)</span><br></pre></td></tr></table></figure>
<p>del删除：直接删除指定位置元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">letter = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> letter[<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(letter)  <span class="comment">#[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>pop弹出：弹出列表最后一个元素并返回（也可指定位置）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">letter = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">a = letter.pop()</span><br><span class="line"><span class="built_in">print</span>(letter)</span><br></pre></td></tr></table></figure>
<p>remove删除：指定元素名删除，如有多个删除从左到右第一个</p>
<p>clear清空：清除列表中所有元素</p>
<p>index查找：返回从左到右第一个指定元素的索引<br>
<strong>切片操作和字符串类似</strong></p>
<p>sort排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">letter = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">a = letter.sort()</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>
<p>reverse反转</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">letter = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">a = letter.reverse()</span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>
<h4 id="字典">字典</h4>
<p>为满足快速查询，引入key-value的字典类型，以花括号包裹<br>
key必须为不可变的数据类型（如数字、字符串）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;</span><br><span class="line">    <span class="string">&quot;x&quot;</span>: <span class="string">&quot;hello&quot;</span>,</span><br><span class="line">    <span class="string">&quot;y&quot;</span>: <span class="string">&quot;world&quot;</span>,</span><br><span class="line">    <span class="string">&quot;z&quot;</span>: <span class="string">&quot;!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(dic[<span class="string">&quot;x&quot;</span>], dic[<span class="string">&quot;y&quot;</span>], dic[<span class="string">&quot;z&quot;</span>])</span><br><span class="line"><span class="comment"># dic.get(&quot;&quot;) 方法也可取用，优点是找不到不报错，返回None</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>字典也可以进行嵌套</p>
</blockquote>
<p><strong>增删改查操作</strong></p>
<ul>
<li>增加：<code>dic[&quot;a&quot;] = &quot;error&quot;</code> 直接对新key值赋值即可添加</li>
<li>删除：<code>del dic[&quot;x&quot;]</code>、<code>dic.pop(&quot;y&quot;)</code>、<code>dic.clear()</code>前两个为清除指定key,后一个为清空</li>
<li>修改：操作同增加，若key值存在，即会修改value值</li>
<li>查找 <code>dic.keys()</code>返回一个包含字典所有KEY的列表；<code>dic.values()</code>返回一个包含字典所以value的列表；<code>dic.items()</code>返回一个包含所有（键、值）元组的列表</li>
</ul>
<p><strong>循环</strong></p>
<ol>
<li><code>for k in dic.keys()</code></li>
<li><code>for k,v in dic.items()</code></li>
<li><code>for k in dic</code>(推荐，效率更快)</li>
</ol>
<h4 id="元组">元组</h4>
<p>元组(tuple)是Python中另一种内置的存储有序数据的结构。<br>
元组与列表类似，也是由一系列按特定顺序排列的元素组成，可存储不同类型的数据，<br>
如字符串、数字甚至元组。然而，元组是不可改变的，创建后不能再做任何修改操作。<br>
元组可作为字典的键值，而列表不行<br>
元组由（）包裹</p>
<p><strong>删除元组</strong><br>
元组中的元素值是不允许更改的，但可以使用del语句整个删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)</span><br><span class="line">tupleName = <span class="built_in">tuple</span>(data)</span><br><span class="line"><span class="keyword">del</span> tupleName</span><br><span class="line"><span class="built_in">print</span>(tupleName)</span><br></pre></td></tr></table></figure>
<p><strong>元组常见操作</strong></p>
<p>元组是不可变序列，虽然不能对单个元素值进行修改，但可以重新赋值以达到更改效果<br>
<code>len(tup)</code><br>
<code>max(tup)</code><br>
<code>min(tup)</code><br>
元组和列表的相互转换<br>
<code>tuple()</code>函数接收一个列表，返回一个元组<br>
<code>list()</code>函数接收一个元组，返回一个列表</p>
<h3 id="文件操作">文件操作</h3>
<blockquote>
<p>python3在内存中默认用Unicode编码，但存在文件里或网络发送，用utf-8编码</p>
</blockquote>
<p>字节类型就是二进制格式，通常用十六进制来表示，编码后转成bytes字节类型，可防止显示乱码</p>
<p>操作文件流程：</p>
<ol>
<li>打开文件</li>
<li>读 || 修改</li>
<li>保存 &amp;&amp; 关闭</li>
</ol>
<p><strong>打开文件（文本模式）</strong></p>
<ul>
<li>r 只读模式</li>
<li>w 创建模式，若文件已经存在，则覆盖旧文件</li>
<li>a 追加模式，新数据会写到文件末尾</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  w mode</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;name_list&quot;</span>, mode=<span class="string">&quot;w&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;张三\n&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;李四\n&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;王五\n&quot;</span>)</span><br><span class="line">f.close()</span><br><span class="line"><span class="comment">#  r mode</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;name_list&quot;</span>, mode=<span class="string">&quot;r&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(f.read())  <span class="comment"># 读出所有内容</span></span><br><span class="line"><span class="built_in">print</span>(f.readline())  <span class="comment"># 读一行</span></span><br><span class="line"><span class="comment">#  a mode</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;name_list&quot;</span>, mode=<span class="string">&quot;a&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;oracle\n&quot;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<p><strong>文件循环遍历</strong></p>
<p>循环遍历时，将文件每一行的数据以列表形式存入line中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;name_list&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    line = line.split()</span><br><span class="line">    age = <span class="built_in">int</span>(line[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">        <span class="built_in">print</span>(line)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>二进制文件操作（图片/视频）</strong><br>
<img src="https://img1.imgtp.com/2023/08/04/A82bqAtR.png" alt=""></p>
<p>encodin=None,该参数告诉你的解释器当亲要打开文件的编码，若缺省，则用解释器的默认编码，也就是utf-8<br>
图片和视频底层也是二进制，用二进制形式打开</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;yuan.png&quot;</span>, <span class="string">&quot;rb&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    <span class="built_in">print</span>(line)</span><br><span class="line">    </span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;name_list&quot;</span>, <span class="string">&quot;wb&quot;</span>)</span><br><span class="line">s = <span class="string">&quot;路飞 18&quot;</span></span><br><span class="line">f.write((s.encode(<span class="string">&quot;utf-8&quot;</span>)))</span><br></pre></td></tr></table></figure>
<p><code>rb</code>    二进制只读<br>
<code>wb</code>    二进制只写</p>
<p><strong>其他常用功能</strong><br>
<code>seek</code>  把操作文件的光标移动到指定位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;name_list&quot;</span>, mode=<span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line">f.seek(<span class="number">11</span>)</span><br><span class="line"><span class="comment"># f.write(&quot;张三 18\n&quot;)</span></span><br><span class="line"><span class="comment"># f.write(&quot;李四 20\n&quot;)</span></span><br><span class="line"><span class="comment"># f.write(&quot;王五 21\n&quot;)</span></span><br><span class="line"><span class="comment"># f.write(&quot;赵六 19\n&quot;)</span></span><br><span class="line"><span class="built_in">print</span>(f.readline())  <span class="comment"># 李四 20</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<p>按字节操作，utf-8编码中中文占三个字节，西欧符号占两个字节，英文和数字占一个字节<br>
写文件时会覆盖光标后的文本</p>
<blockquote>
<p>经常搭配tell函数使用，其作用是返回当前光标的位置</p>
</blockquote>
<p><strong>flush</strong>  把文件从内存buffer里强制刷新到硬盘<br>
<strong>truncate</strong>  以光标位置截断文件，将光标后数据删除</p>
<p><strong>其他打开方式（混合模式）</strong><br>
w+ 写读：创建一个新文件，可写入文本，也可将写入的内容读出来<br>
r+ 读写：能读能写，但都是些在文件最后，类似追加<br>
a+ 追加读：写入数据均以追加的形式</p>
<p><strong>文件修改</strong><br>
前面提到的文件修改会将当前光标后的数据替换掉，而我们正常需求一般是在光标位置前插入文本数据。要实现这点，需打开文件后，先将数据读到内存中，添加数据后再重新写入硬盘</p>
<p><strong>练习</strong><br>
编写一个全局文本检索替换脚本<br>
要求在命令行中执行<code>python replace.py old_str new_str filename</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">old_str = sys.argv[<span class="number">1</span>]</span><br><span class="line">new_str = sys.argv[<span class="number">2</span>]</span><br><span class="line">filename = sys.argv[<span class="number">3</span>]</span><br><span class="line">f = <span class="built_in">open</span>(filename, mode=<span class="string">&quot;r+&quot;</span>, encoding=<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line"><span class="comment"># 加载到内存</span></span><br><span class="line">data = f.read()</span><br><span class="line">count = data.count(old_str)</span><br><span class="line">new_data = data.replace(old_str, new_str)</span><br><span class="line"><span class="comment"># 清空文件</span></span><br><span class="line">f.seek(<span class="number">0</span>)</span><br><span class="line">f.truncate()</span><br><span class="line"><span class="comment"># 把新内容写入硬盘</span></span><br><span class="line">f.write(new_data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;成功替换字符&#x27;<span class="subst">&#123;old_str&#125;</span> to&#x27;<span class="subst">&#123;new_str&#125;</span>，共计<span class="subst">&#123;count&#125;</span>处&#x27;&quot;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<p><img src="https://img1.imgtp.com/2023/08/04/xa4ZpB2x.png" alt="成功"></p>
<p>另一种方法：<br>
创建一个新文件，将原文件数据按行读入新文件，并加以替换，最后将原文件删除</p>
<h3 id="函数编程">函数编程</h3>
<p>特性：</p>
<ol>
<li>减少重复代码</li>
<li>使程序可扩展</li>
<li>使程序易维护</li>
</ol>
<p>基本语法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sayhello</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;hello,my name is <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sayhello(<span class="string">&quot;Oracle&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>值得注意python中函数形参和实参传入机制与其他编程语言不同，与传入的数据类型（可变 or 不可变有关），可参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37891604/article/details/124528827">Python中变量的本质</a></p>
<p>python也可使用默认参数调用函数，语法和C++类似，缺省参数定义需在最后。一般按位置关系确定对应关系的参数，但也可指定参数名，指定参数调用时必须放在默认参数之后</p>
<p><strong>非固定参数</strong><br>
若在函数定义时不确定要传入多少参数，可以使用非固定参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">stu_register</span>(<span class="params">name, age, *args, **kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, args, kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># *args 会把多传入的参数变成一个元组的形式</span></span><br><span class="line"><span class="comment"># **kwargs 会把传入的指定参数变成一个字典的形式</span></span><br><span class="line">stu_register(<span class="string">&quot;Oracle&quot;</span>, <span class="number">19</span>, <span class="string">&quot;M&quot;</span>, <span class="string">&quot;IT&quot;</span>, address=<span class="string">&quot;吉林省&quot;</span>)</span><br><span class="line"><span class="comment"># &gt;&gt;&gt;Oracle 19 (&#x27;M&#x27;, &#x27;IT&#x27;) &#123;&#x27;address&#x27;: &#x27;吉林省&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>函数返回值</strong><br>
若想在函数外部想获取函数内部产生的值，可以用return语句将值返回<br>
python可同时返回多个值，写成<code>return a,b,c</code><br>
其值存放在元组中<code>(a, b, c)</code><br>
函数执行到return就代表函数结束，后面的代码不会执行</p>
<p><strong>全局变量与局部变量</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>               <span class="comment"># 全局变量</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    b = <span class="number">2</span>           <span class="comment"># 局部变量</span></span><br><span class="line">    <span class="built_in">print</span>(a)        <span class="comment"># 可访问全局变量a,无法访问它内部的c</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        c = <span class="number">3</span>       <span class="comment"># 更局部的变量</span></span><br><span class="line">        <span class="built_in">print</span>(a)    <span class="comment"># 可以访问全局变量a</span></span><br><span class="line">        <span class="built_in">print</span>(b)    <span class="comment"># b对于inner函数来说，就是外部变量</span></span><br><span class="line">        <span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure>
<p><strong>global</strong>：指定当前变量使用外部的全局变量(直接使用最外层的)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;函数outer调用之前全局变量a的内存地址： &quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">    a = <span class="number">2</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;函数outer调用之时闭包外部的变量a的内存地址： &quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="keyword">global</span> a   <span class="comment"># 注意这行</span></span><br><span class="line">        a = <span class="number">3</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;函数inner调用之后闭包内部变量a的内存地址： &quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">    inner()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;函数inner调用之后，闭包外部的变量a的内存地址： &quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">outer()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;函数outer执行完毕，全局变量a的内存地址： &quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line"><span class="comment"># 函数outer调用之前全局变量a的内存地址：  494384192</span></span><br><span class="line"><span class="comment"># 函数outer调用之时闭包外部的变量a的内存地址：  494384224</span></span><br><span class="line"><span class="comment"># 函数inner调用之后闭包内部变量a的内存地址：  494384256</span></span><br><span class="line"><span class="comment"># 函数inner调用之后，闭包外部的变量a的内存地址：  494384224</span></span><br><span class="line"><span class="comment"># 函数outer执行完毕，全局变量a的内存地址：  494384256</span></span><br></pre></td></tr></table></figure>
<p>若有多层嵌套，且仅想使用上一层的变量,可使用<code>nonlocal</code>关键字声明</p>
<p><strong>递归函数</strong><br>
python语言也支持递归函数<br>
举例一个简单的高斯求和函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Gaosi</span>(<span class="params">n</span>):</span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> n + Gaosi(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Gaosi(<span class="number">100</span>))</span><br></pre></td></tr></table></figure>
<p><strong>常用内置函数</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">内置函数</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>all()</code></td>
<td style="text-align:center">遍历整个列表，若所有元素bool值均为true则返回true，反之为false</td>
</tr>
<tr>
<td style="text-align:center"><code>any()</code></td>
<td style="text-align:center">遍历整个列表，若任一元素bool值为true则返回true，反之为false</td>
</tr>
<tr>
<td style="text-align:center"><code>chr()</code></td>
<td style="text-align:center">返回指定数字对应ASCII码对应的字符</td>
</tr>
<tr>
<td style="text-align:center"><code>dict()</code></td>
<td style="text-align:center">生成一个字典，确省则为空字典</td>
</tr>
<tr>
<td style="text-align:center"><code>dir()</code></td>
<td style="text-align:center">显示对象所有的属性和方法。最棒的辅助函数之一</td>
</tr>
<tr>
<td style="text-align:center"><code>abs()</code></td>
<td style="text-align:center">返回指定数据的绝对值</td>
</tr>
<tr>
<td style="text-align:center"><code>bin()、oct()、hex()</code></td>
<td style="text-align:center">三个函数是将十进制数分别转换为2/8/16进制</td>
</tr>
<tr>
<td style="text-align:center"><code>ord()</code></td>
<td style="text-align:center">与chr()相反，返回某个ASCII字符对应的十进制数</td>
</tr>
<tr>
<td style="text-align:center"><code>divmod()</code></td>
<td style="text-align:center">除法，同时返回商和余数的元组</td>
</tr>
<tr>
<td style="text-align:center"><code>enumerate()</code></td>
<td style="text-align:center">枚举函数，在迭代对象的时候，额外提供一个序列号的输出</td>
</tr>
<tr>
<td style="text-align:center"><code>eval()</code></td>
<td style="text-align:center">将字符串直接解读并执行</td>
</tr>
<tr>
<td style="text-align:center"><code>gloabals()</code></td>
<td style="text-align:center">列出当前环境下所有的全局变量。注意要与global关键字区分</td>
</tr>
<tr>
<td style="text-align:center"><code>hash()</code></td>
<td style="text-align:center">为不可变对象，例如字符串生成哈希值的函数</td>
</tr>
<tr>
<td style="text-align:center"><code>help()</code></td>
<td style="text-align:center">返回对象的帮助文档</td>
</tr>
<tr>
<td style="text-align:center"><code>id()</code></td>
<td style="text-align:center">返回对象的内存地址,常用来查看变量引用的变化，对象是否相同等</td>
</tr>
<tr>
<td style="text-align:center"><code>isinstance()</code></td>
<td style="text-align:center">判断一个对象是否是某个类的实例</td>
</tr>
<tr>
<td style="text-align:center"><code>locals()</code></td>
<td style="text-align:center">返回当前可用的局部变量</td>
</tr>
<tr>
<td style="text-align:center"><code>max()/min()</code></td>
<td style="text-align:center">返回给定集合里的最大或者最小的元素。可以指定排序的方法</td>
</tr>
<tr>
<td style="text-align:center"><code>reversed()</code></td>
<td style="text-align:center">反转，逆序对象</td>
</tr>
<tr>
<td style="text-align:center"><code>round()</code></td>
<td style="text-align:center">四舍五入</td>
</tr>
<tr>
<td style="text-align:center"><code>sum()</code></td>
<td style="text-align:center">对可迭代的对象求和</td>
</tr>
<tr>
<td style="text-align:center"><code>sorted()</code></td>
<td style="text-align:center">排序方法。有key和reverse两个重要参数</td>
</tr>
</tbody>
</table>
<p>有个别遗漏可查看<a target="_blank" rel="noopener" href="https://www.liujiangblog.com/course/python/40">python内置函数</a></p>
<h2 id="进阶知识">进阶知识</h2>
<h3 id="面向对象编程">面向对象编程</h3>
<p>面向对象的思想与其他编程语言相同，主要记录一下python独特的语法<br>
<strong>类和实例</strong><br>
Python使用class关键字来定义类，其基本结构如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">类名</span>(<span class="title class_ inherited__">父类列表</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>类名通常采用驼峰式命名方式，尽量让字面意思体现出类的作用。Python采用多继承机制，一个类可以同时继承多个父类（也叫基类、超类），继承的基类有先后顺序，写在类名后的圆括号里。继承的父类列表可以为空，此时的圆括号可以省略。但在Python3中，即使你采用类似class Student:pass的方法没有显式继承任何父类的定义了一个类，它也默认继承object类。因为，object是Python3中所有类的基类。</p>
<p>下面是一个学生类：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    classroom = <span class="string">&#x27;101&#x27;</span></span><br><span class="line">    address = <span class="string">&#x27;beijing&#x27;</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.name, self.age))</span><br></pre></td></tr></table></figure>
<p>可以通过调用类的实例化方法（有的语言中也叫初始化方法或构造函数）来创建一个类的实例。默认情况下，使用类似obj=Student()的方式就可以生成一个类的实例。但是，通常每个类的实例都会有自己的实例变量，例如这里的name和age，为了在实例化的时候体现实例的不同，Python提供了一个def <strong>init</strong>(self):的实例化机制。任何一个类中，名字为__init__的方法就是类的实例化方法，具有__init__方法的类在实例化的时候，会自动调用该方法，并传递对应的参数。比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">li = Student(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>)</span><br><span class="line">zhang = Student(<span class="string">&quot;张三&quot;</span>, <span class="number">23</span>)</span><br></pre></td></tr></table></figure>
<p><strong>实例变量和类变量</strong><br>
实例变量和类变量<br>
<strong>实例变量</strong>：<br>
实例变量指的是实例本身拥有的变量。每个实例的变量在内存中都不一样。Student类中__init__方法里的name和age就是两个实例变量。通过实例名加圆点的方式调用实例变量。</p>
<p>我们打印下面四个变量，可以看到每个实例的变量名虽然一样，但他们保存的值却是各自独立的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(li.name)</span><br><span class="line"><span class="built_in">print</span>(li.age)</span><br><span class="line"><span class="built_in">print</span>(zhang.name)</span><br><span class="line"><span class="built_in">print</span>(zhang.age)</span><br><span class="line">------------------------</span><br><span class="line">李四</span><br><span class="line"><span class="number">24</span></span><br><span class="line">张三</span><br><span class="line"><span class="number">23</span></span><br></pre></td></tr></table></figure>
<p><strong>类变量</strong>：<br>
定义在类中，方法之外的变量，称作类变量。类变量是所有实例公有的变量，每一个实例都可以访问、修改类变量。在Student类中，classroom和address两个变量就是类变量。可以通过类名或者实例名加圆点的方式访问类变量，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Student.classroom</span><br><span class="line">Student.address</span><br><span class="line">li.classroom</span><br><span class="line">zhang.address</span><br></pre></td></tr></table></figure>
<p>在使用实例变量和类变量的时候一定要注意，使用类似zhang.name访问变量的时候，实例会先在自己的实例变量列表里查找是否有这个实例变量，如果没有，那么它就会去类变量列表里找，如果还没有，弹出异常。</p>
<p>Python动态语言的特点，让我们可以随时给实例添加新的实例变量，给类添加新的类变量和方法。因此，在使用li.classroom = '102’的时候，要么是给已有的实例变量classroom重新赋值，要么就是新建一个li专属的实例变量classroom并赋值为‘102’。看下面的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">Student</span>:              <span class="comment"># 类的定义体</span></span><br><span class="line">    classroom = <span class="string">&#x27;101&#x27;</span>           <span class="comment"># 类变量</span></span><br><span class="line">    address = <span class="string">&#x27;beijing&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.name, self.age))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>li = Student(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>)        <span class="comment"># 创建一个实例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zhang = Student(<span class="string">&quot;张三&quot;</span>, <span class="number">23</span>)     <span class="comment"># 创建第二个实例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>li.classroom <span class="comment"># li本身没有classroom实例变量，所以去寻找类变量，它找到了！</span></span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zhang.classroom <span class="comment"># 与li同理</span></span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Student.classroom   <span class="comment"># 通过类名访问类变量</span></span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>li.classroom = <span class="string">&#x27;102&#x27;</span>    <span class="comment"># 关键的一步！实际是为li创建了独有的实例变量，只不过名字和类变量一样，都叫做classroom。</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>li.classroom    <span class="comment"># 再次访问的时候，访问到的是li自己的实例变量classroom</span></span><br><span class="line"><span class="string">&#x27;102&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zhang.classroom <span class="comment"># zhang没有实例变量classroom，依然访问类变量classroom</span></span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Student.classroom   <span class="comment"># 保持不变</span></span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> li.classroom    <span class="comment"># 删除了li的实例变量classroom</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>li.classroom        <span class="comment"># 一切恢复了原样</span></span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>zhang.classroom</span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Student.classroom</span><br><span class="line"><span class="string">&#x27;101&#x27;</span></span><br></pre></td></tr></table></figure>
<p>为了防止发生上面的混淆情况，对于类变量，请坚持使用类名.类变量的访问方式，不要用实例去访问类变量。</p>
<p><strong>封装、继承和多态</strong><br>
<strong>封装</strong><br>
封装的思想不多赘述,只举具体实例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    classroom = <span class="string">&#x27;101&#x27;</span></span><br><span class="line">    address = <span class="string">&#x27;beijing&#x27;</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.name, self.age))</span><br><span class="line"></span><br><span class="line">bao = Student(<span class="string">&quot;Oracle&quot;</span>, <span class="number">18</span>)</span><br><span class="line">bao.print_age()</span><br><span class="line"><span class="comment"># 以下是错误的用法</span></span><br><span class="line"><span class="comment"># 类将它内部的变量和方法封装起来，阻止外部的直接访问</span></span><br><span class="line"><span class="built_in">print</span>(classroom)</span><br><span class="line"><span class="built_in">print</span>(adress)</span><br><span class="line">print_age()</span><br></pre></td></tr></table></figure>
<p><strong>继承</strong><br>
继承最大的好处是子类获得了父类的全部变量和方法的同时，又可以根据需要进行修改、拓展。其语法结构如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Foo</span>(superA, superB,superC....):</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DerivedClassName</span>(modname.BaseClassName):  <span class="comment">## 当父类定义在另外的模块时</span></span><br></pre></td></tr></table></figure>
<p>Python支持多父类的继承机制，所以需要注意圆括号中基类的顺序，若是基类中有相同的方法名，并且在子类使用时未指定，Python会从左至右搜索基类中是否包含该方法。一旦查找到则直接调用，后面不再继续查找。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 父类定义</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">people</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, weight</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.__weight = weight</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我 %d 岁。&quot;</span> % (self.name, self.age))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单继承示例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span>(<span class="title class_ inherited__">people</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age, weight, grade</span>):</span><br><span class="line">        <span class="comment"># 调用父类的实例化方法</span></span><br><span class="line">        people.__init__(self, name, age, weight)</span><br><span class="line">        self.grade = grade</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 重写父类的speak方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">speak</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s 说: 我 %d 岁了，我在读 %d 年级&quot;</span> % (self.name, self.age, self.grade))</span><br><span class="line"></span><br><span class="line">s = student(<span class="string">&#x27;ken&#x27;</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">3</span>)</span><br><span class="line">s.speak()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Python3的继承机制不同于Python2。其核心原则是下面两条，请谨记！<br>
子类在调用某个方法或变量的时候，首先在自己内部查找，如果没有找到，则开始根据继承机制在父类里查找。<br>
根据父类定义中的顺序，以深度优先的方式逐一查找父类！</p>
</blockquote>
<p><strong>super()函数</strong><br>
我们都知道，在子类中如果有与父类同名的成员，那就会覆盖掉父类里的成员。那如果你想强制调用父类的成员呢？使用super()函数！这是一个非常重要的函数，最常见的就是通过super调用父类的实例化方法<code>__init__</code>！</p>
<p>语法：<code>super(子类名, self).方法名()</code>，需要传入的是子类名和self，调用的是父类里的方法，按父类的方法需要传入参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;父类的__init__方法被执行了！&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;父类的show方法被执行了！&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="built_in">super</span>(B, self).__init__(name=name)</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(B, self).show()</span><br><span class="line"></span><br><span class="line">obj = B(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line">obj.show()</span><br></pre></td></tr></table></figure>
<p><strong>多态</strong><br>
先举个例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kind</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am animal&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kind</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am a dog&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kind</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am a cat&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pig</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kind</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am a pig&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这个函数接收一个animal参数，并调用它的kind方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show_kind</span>(<span class="params">animal</span>):</span><br><span class="line">    animal.kind()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d = Dog()</span><br><span class="line">c = Cat()</span><br><span class="line">p = Pig()</span><br><span class="line"></span><br><span class="line">show_kind(d)</span><br><span class="line">show_kind(c)</span><br><span class="line">show_kind(p)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------</span></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># i am a dog</span></span><br><span class="line"><span class="comment"># i am a cat</span></span><br><span class="line"><span class="comment"># i am a pig</span></span><br></pre></td></tr></table></figure>
<p>看上去与其他面向对象语言的多态没有区别，实际上，由于Python的动态语言特性，传递给函数show_kind()的参数animal可以是 任何的类型，只要它有一个kind()的方法即可。动态语言调用实例方法时不检查类型，只要方法存在，参数正确，就可以调用。这就是动态语言的“鸭子类型”，它并不要求严格的继承体系，一个对象只要“看起来像鸭子，走起路来像鸭子”，那它就可以被看做是鸭子。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Job</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kind</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am not animal, i am a job&quot;</span>)</span><br><span class="line"></span><br><span class="line">j = Job()</span><br><span class="line">show_kind(j)</span><br></pre></td></tr></table></figure>
<p>可能有人会觉得，这些内容很自然啊，没什么不好理解，不觉得多态有什么特殊，Python就是这样啊！</p>
<p>如果你学过JAVA这一类强类型静态语言，就不会这么觉得了，对于JAVA，必须指定函数参数的数据类型，只能传递对应参数类型或其子类型的参数，不能传递其它类型的参数，show_kind()函数只能接收animal、dog、cat和pig类型，而不能接收job类型。就算接收dog、cat和pig类型，也是通过面向对象的多态机制实现的。</p>
<p><strong>成员保护和访问限制</strong><br>
在类似JAVA的语言中，有private关键字，可以将某些变量和方法设为私有，阻止外部访问。但是，Python没有这个机制，Python利用变量和方法名字的变化，实现这一功能。<br>
在Python中，如果要让内部成员不被外部访问，可以在成员的名字前<strong>加上两个下划线__，这个成员就变成了一个私有成员（private）。私有成员只能在类的内部访问，外部无法访问。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line">    title = <span class="string">&quot;人类&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.__name, self.__age))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_name</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_age</span>(<span class="params">self, age</span>):</span><br><span class="line">        self.__age = age</span><br><span class="line"></span><br><span class="line">obj = People(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line">obj.get_name()</span><br><span class="line">obj.set_name(<span class="string">&quot;tom&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>python的有趣特性<br>
以双下划线开头的数据成员是不是一定就无法从外部访问呢？其实也不是！本质上，从内部机制原理讲，外部不能直接访问<code>__age</code>是因为Python解释器对外把<code>__age</code>变量改成了<code>_People__age</code>，也就是<code>_类名__age</code>（类名前是一个下划线）。因此，投机取巧的话，你可以通过<code>_ People__age</code>在类的外部访问<code>__age</code>变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = People(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(obj._People__name)</span><br></pre></td></tr></table></figure>
<p>由于Python内部会对双下划线开头的私有成员进行名字变更，所以会出现下面的情况：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line">    title = <span class="string">&quot;人类&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.__name, self.__age))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_name</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = People(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line">obj.__name = <span class="string">&quot;tom&quot;</span>          <span class="comment"># 注意这一行</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;obj.__name:  &quot;</span>, obj.__name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;obj.get_name():  &quot;</span>, obj.get_name())</span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------</span></span><br><span class="line"><span class="comment"># 打印结果：</span></span><br><span class="line"><span class="comment"># obj.__name:   tom</span></span><br><span class="line"><span class="comment"># obj.get_name():   jack</span></span><br></pre></td></tr></table></figure>
<p>此时的<code>obj.__name= 'tom'</code>，相当于给obj实例添加了一个新的实例变量<code>__name</code>,而不是对原有私有成员<code>__name</code>的重新赋值。</p>
<p>此外，有些时候，你会看到以一个下划线开头的成员名，比如<code>_name</code>，这样的数据成员在外部是可以访问的，但是，按照约定俗成的规定，当你看到这样的标识符时，意思就是，“虽然我可以被外部访问，但是，请把我视为私有成员，不要在外部访问我！”。</p>
<p>还有，在Python中，标识符类似<code>__xxx__</code>的，也就是以双下划线开头，并且以双下划线结尾的，是特殊成员，特殊成员不是私有成员，可以直接访问，要注意区别对待。同时请尽量不要给自定义的成员命名<code>__name__</code>或<code>__iter__</code>这样的标识，它们都是Python中具有特殊意义的魔法方法名。</p>
<p>类的成员与下划线总结：<br>
<code>_name、_name_、_name__</code>:建议性的私有成员，不要在外部访问。<br>
<code>__name、 __name_ </code>:强制的私有成员，但是你依然可以蛮横地在外部危险访问。<br>
<code>__name__</code>:特殊成员，与私有性质无关，例如<code>__doc__</code>。<br>
<code>name_、name__</code>:没有任何特殊性，普通的标识符，但最好不要这么起名。</p>
<p><strong>伪装类方法</strong></p>
<ol>
<li>@property装饰器——更多有关<a target="_blank" rel="noopener" href="https://www.liujiangblog.com/course/python/39">装饰器</a>的知识</li>
</ol>
<p>Python内置的<code>@property</code>装饰器可以把类的方法伪装成属性调用的方式。也就是本来是<code>Foo.func()</code>的调用方法，变成<code>Foo.func</code>的方式。在很多场合下，这是一种非常有用的机制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__age = age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__age</span><br><span class="line"></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, age</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(age, <span class="built_in">int</span>):</span><br><span class="line">            self.__age = age</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError</span><br><span class="line"></span><br><span class="line"><span class="meta">    @age.deleter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;删除年龄数据！&quot;</span>)</span><br><span class="line"></span><br><span class="line">obj = People(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(obj.age)</span><br><span class="line">obj.age = <span class="number">19</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;obj.age:  &quot;</span>, obj.age)</span><br><span class="line"><span class="keyword">del</span> obj.age</span><br><span class="line"></span><br><span class="line">---------------------------</span><br><span class="line">打印结果：</span><br><span class="line"><span class="number">18</span></span><br><span class="line">obj.age:   <span class="number">19</span></span><br><span class="line">删除年龄数据！</span><br></pre></td></tr></table></figure>
<p>使用方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj = People(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line">a = obj.age    <span class="comment"># 获取值</span></span><br><span class="line">obj.age = <span class="number">19</span>    <span class="comment"># 重新赋值</span></span><br><span class="line"><span class="keyword">del</span> obj.age     <span class="comment"># 删除属性</span></span><br></pre></td></tr></table></figure>
<p>将一个方法伪装成为属性后，就不再使用圆括号的调用方式了。而是类似变量的赋值、获取和删除方法了。当然，每个动作内部的代码细节还是需要你自己根据需求去实现的。</p>
<p>那么如何将一个普通的方法转换为一个“伪装”的属性呢？</p>
<ul>
<li>首先，在普通方法的基础上添加<code>@property</code>装饰器，例如上面的age()方法。这相当于一个get方法，用于获取值,决定类似<code>&quot;result = obj.age&quot;</code>执行什么代码。该方法仅有一个self参数。</li>
<li>写一个同名的方法，添加<code>@xxx.setter</code>装饰器（xxx表示和上面方法一样的名字），比如例子中的第二个方法。这相当于编写了一个set方法，提供赋值功能，决定类似<code>&quot;obj.age = ....&quot;</code>的语句执行什么代码。</li>
<li>再写一个同名的方法，并添加<code>@xxx.delete</code>装饰器，比如例子中的第三个方法。用于删除功能，决定<code>&quot;del obj.age &quot;</code>这样的语句具体执行什么代码。</li>
</ul>
<p>简而言之，就是分别将三个方法定义为对同一个属性的获取、修改和删除。还可以定义只读属性，也就是只定义getter方法，不定义setter方法就是一个只读属性。</p>
<h3 id="property-函数">property()函数</h3>
<p>除了使用装饰器的方式将一个方法伪装成属性外，Python内置的builtins模块中的property()函数，为我们提供了第二种设置类属性的手段。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__age = age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.__age</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_age</span>(<span class="params">self, age</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(age, <span class="built_in">int</span>):</span><br><span class="line">            self.__age = age</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">del_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;删除年龄数据！&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 核心在这句</span></span><br><span class="line">    age = <span class="built_in">property</span>(get_age, set_age, del_age, <span class="string">&quot;年龄&quot;</span>)    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = People(<span class="string">&quot;jack&quot;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(obj.age)</span><br><span class="line">obj.age = <span class="number">19</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;obj.age:  &quot;</span>, obj.age)</span><br><span class="line"><span class="keyword">del</span> obj.age</span><br></pre></td></tr></table></figure>
<p>通过语句<code>age = property(get_age, set_age, del_age, &quot;年龄&quot;)</code>将一个方法伪装成为属性。其效果和装饰器的方法是一样的。</p>
<p>property()函数的参数：</p>
<ul>
<li>第一个参数是方法名，调用 <code>实例.属性</code> 时自动执行的方法</li>
<li>第二个参数是方法名，调用 <code>实例.属性 ＝ XXX</code>时自动执行的方法</li>
<li>第三个参数是方法名，调用 <code>del 实例.属性</code> 时自动执行的方法</li>
<li>第四个参数是字符串，调用 <code>实例.属性.__doc__</code>时的描述信息。</li>
</ul>
<p><strong>特殊成员和魔法方法</strong><br>
Python中有大量类似__doc__这种以双下划线开头和结尾的特殊成员及“魔法方法”，它们有着非常重要的地位和作用，也是Python语言独具特色的语法之一！</p>
<p>比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">__init__ :      构造函数，在生成对象时调用</span><br><span class="line">__del__ :       析构函数，释放对象时使用</span><br><span class="line">__repr__ :      打印，转换</span><br><span class="line">__setitem__ :   按照索引赋值</span><br><span class="line">__getitem__:    按照索引获取值</span><br><span class="line">__len__:        获得长度</span><br><span class="line">__cmp__:        比较运算</span><br><span class="line">__call__:       调用</span><br><span class="line">__add__:        加运算</span><br><span class="line">__sub__:        减运算</span><br><span class="line">__mul__:        乘运算</span><br><span class="line">__div__:        除运算</span><br><span class="line">__mod__:        求余运算</span><br><span class="line">__pow__:        幂</span><br></pre></td></tr></table></figure>
<p>需要注意的是，这些成员里面有些是方法，调用时要加括号，有些是属性，调用时不需要加括号（废话！）。<br>
具体用法请查看<a target="_blank" rel="noopener" href="https://www.liujiangblog.com/course/python/47">python教程</a></p>
<h3 id="异常处理">异常处理</h3>
<p>在程序运行过程中，总会遇到各种各样的问题和错误。有些错误是我们编写代码时自己造成的，比如语法错误、调用错误，甚至逻辑错误。还有一些错误，则是不可预料的错误，但是完全有可能发生的，比如文件不存在、磁盘空间不足、网络堵塞、系统错误等等。这些导致程序在运行过程中出现异常中断和退出的错误，我们统称为异常。大多数的异常都不会被程序处理，而是以错误信息的形式展现出来。</p>
<p>异常有很多种类型，Python内置了几十种常见的异常，就在builtins模块内，无需特别导入，直接就可使用。需要注意的是，所有的异常都是异常类，首字母是大写的！</p>
<p>在发生异常的时候，Python会打印出异常信息，信息的前面部分显示了异常发生的上下文环境，并以调用栈的形式显示具体信息。异常类型作为信息的一部分也会被打印出来，例如ZeroDivisionError，NameError 和 TypeError。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span> * (<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">ZeroDivisionError: division by zero</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4</span> + spam*<span class="number">3</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">NameError: name <span class="string">&#x27;spam&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;2&#x27;</span> + <span class="number">2</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> ?</span><br><span class="line">TypeError: Can<span class="string">&#x27;t convert &#x27;</span><span class="built_in">int</span><span class="string">&#x27; object to str implicitly</span></span><br></pre></td></tr></table></figure>
<p>为了保证程序的正常运行，提高程序健壮性和可用性。我们应当尽量考虑全面，将可能出现的异常进行处理，而不是留在那里，任由其发生。</p>
<p>Python内置了一套try…except…finally（else）…的异常处理机制，来帮助我们进行异常处理。其基本语法是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    pass</span><br><span class="line">except Exception as ex:</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>
<p><em>注：在Python3中，原Python2的<code>except Exception , ex</code>的别名方法已经不能使用，逗号被认为是两种异常的分隔符，而不是取别名。</em></p>
<p>Python的异常机制具有嵌套处理的能力，比如下面的函数f3()调用f2()，f2()调用f1()，虽然是在f1()出错了，但只需要在f3()进行异常捕获，不需要每一层都捕获异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>/<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>():</span><br><span class="line">    f1()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f3</span>():</span><br><span class="line">    f2()</span><br><span class="line"></span><br><span class="line">f3()</span><br><span class="line">------------------------</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;F:/Python/pycharm/201705/1.py&quot;</span>, line <span class="number">10</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    f3()</span><br><span class="line">  File <span class="string">&quot;F:/Python/pycharm/201705/1.py&quot;</span>, line <span class="number">8</span>, <span class="keyword">in</span> f3</span><br><span class="line">    f2()</span><br><span class="line">  File <span class="string">&quot;F:/Python/pycharm/201705/1.py&quot;</span>, line <span class="number">5</span>, <span class="keyword">in</span> f2</span><br><span class="line">    f1()</span><br><span class="line">  File <span class="string">&quot;F:/Python/pycharm/201705/1.py&quot;</span>, line <span class="number">2</span>, <span class="keyword">in</span> f1</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>/<span class="number">0</span></span><br><span class="line">ZeroDivisionError: division by zero</span><br></pre></td></tr></table></figure>
<p>仅仅需要在调用f3()函数的时候捕获异常：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>/<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>():</span><br><span class="line">    f1()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f3</span>():</span><br><span class="line">    f2()</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f3()</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br></pre></td></tr></table></figure>
<p><strong><code>try…except…</code>语句处理异常的工作机制如下：</strong></p>
<ul>
<li>首先，执行try子句（在关键字try和关键字except之间的语句）</li>
<li>如果没有异常发生，忽略except子句，try子句执行后结束。</li>
<li>如果在执行try子句的过程中发生了异常，那么try子句余下的部分将被忽略。如果异常的类型和 except 之后的名称相符，那么对应的except子句将被执行。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发生异常之前的语句正常执行&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发生异常之后的语句不会被执行&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line"><span class="comment">#--------------</span></span><br><span class="line">结果：</span><br><span class="line">发生异常之前的语句正常执行</span><br><span class="line">division by zero</span><br></pre></td></tr></table></figure>
<ul>
<li>如果程序发生的异常不在你的捕获列表中，那么依然会抛出别的异常。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 未捕获到异常，程序直接报错</span></span><br><span class="line"></span><br><span class="line">s1 = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">int</span>(s1)</span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> ex:    <span class="comment"># 本例为非法值异常，而你只捕获索引异常</span></span><br><span class="line">    <span class="built_in">print</span>(ex)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;F:/Python/pycharm/201705/1.py&quot;</span>, line <span class="number">5</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">int</span>(s1)</span><br><span class="line">ValueError: invalid literal <span class="keyword">for</span> <span class="built_in">int</span>() <span class="keyword">with</span> base <span class="number">10</span>: <span class="string">&#x27;hello&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果一个异常没有与任何的except匹配，那么这个异常将会传递给上层的try中。也就是前面说的嵌套处理能力。直到程序最顶端如果还没有被捕获，那么将弹出异常。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;发生异常之前的语句正常执行&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;发生异常之后的语句不会被执行&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;里层没有抓好，只能辛苦我外层了&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>可能包含多个except子句，分别来处理不同的特定的异常。但最多只有一个分支会被执行。所以except子句有排序先后问题，进了一条巷子就不会进别的巷子。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发生异常之前的语句正常执行&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>/<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发生异常之后的语句不会被执行&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> NameError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我是第一个抓取到除零异常的&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> (ValueError,ZeroDivisionError) <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我是备胎&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#------------</span></span><br><span class="line">发生异常之前的语句正常执行</span><br><span class="line">我是第一个抓取到除零异常的</span><br></pre></td></tr></table></figure>
<ul>
<li>处理程序将只针对对应的try子句中的异常进行处理，不会处理其他try语句中的异常。</li>
<li>一个except子句可以同时处理多个异常，这些异常将被放在一个括号里成为一个元组。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> (RuntimeError, TypeError, NameError):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<ul>
<li>最后一个except子句可以忽略异常的名称，它将被当作通配符使用，也就是说匹配所有异常。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Unexpected error:&quot;</span>, sys.exc_info()[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p>看一个综合性的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;myfile.txt&#x27;</span>)</span><br><span class="line">    s = f.readline()</span><br><span class="line">    i = <span class="built_in">int</span>(s.strip())</span><br><span class="line"><span class="keyword">except</span> OSError <span class="keyword">as</span> err:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;OS error: &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(err))</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Could not convert data to an integer.&quot;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Unexpected error:&quot;</span>, sys.exc_info()[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure>
<p><strong>通用异常：Exception</strong></p>
<p>在Python的异常中，有一个通用异常：<code>Exception</code>，它可以捕获任意异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">int</span>(s1)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;错误&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>那么既然有这个什么都能管的异常，其他诸如OSError、ValueError的异常是不是就可以不需要了？当然不是！很多时候程序只会弹出那么几个异常，没有必要针对所有的异常进行捕获，那样的效率会很低。另外，根据不同的异常种类，制定不同的处理措施，用于准确判断错误类型，存储错误日志，都是非常有必要甚至强制的。</p>
<h3 id="finally和else子句">finally和else子句</h3>
<p><code>try except</code>语法还有一个可选的else子句，如果使用这个子句，那么必须放在所有的except子句之后。这个子句将在try子句没有发生任何异常的时候执行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> sys.argv[<span class="number">1</span>:]:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = <span class="built_in">open</span>(arg, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> IOError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;cannot open&#x27;</span>, arg)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(arg, <span class="string">&#x27;has&#x27;</span>, <span class="built_in">len</span>(f.readlines()), <span class="string">&#x27;lines&#x27;</span>)</span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure>
<p>同样的，还有一个可选的finally子句。无论try执行情况和except异常触发情况，finally子句都会被执行！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;try...&#x27;</span>)</span><br><span class="line">    r = <span class="number">10</span> / <span class="built_in">int</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;result:&#x27;</span>, r)</span><br><span class="line"><span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ValueError:&#x27;</span>, e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;finally...&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;END&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>那么，当else和finally同时存在时：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;else&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;finally&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">finally</span></span><br></pre></td></tr></table></figure>
<p>如果有异常发生：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;else&quot;</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;finally&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">finally</span></span><br></pre></td></tr></table></figure>
<h3 id="主动抛出异常：raise">主动抛出异常：raise</h3>
<p>很多时候，我们需要主动抛出一个异常。Python内置了一个关键字<code>raise</code>，可以主动触发异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">raise</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#0&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">raise</span></span><br><span class="line">RuntimeError: No active exception to reraise</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">raise</span> NameError(<span class="string">&quot;kkk&quot;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#1&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">raise</span> NameError(<span class="string">&quot;kkk&quot;</span>)</span><br><span class="line">NameError: kkk</span><br></pre></td></tr></table></figure>
<p>raise唯一的一个参数指定了要被抛出的异常的实例，如果什么参数都不给，那么会默认抛出当前异常。</p>
<p>可能有同学会问，为什么要自己主动抛出异常？不嫌多事么？因为有的时候，你需要记录错误信息，然后将异常继续往上层传递，让上层去处理异常，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> ex:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;记录异常日志： &quot;</span>, ex)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;但是我自己无法处理，只能继续抛出，看看上层能否处理（甩锅）&quot;</span>)</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure>
<p>有时候，你需要主动弹出异常，作为警告或特殊处理：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sex = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Please input a number: &quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">if</span> sex == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;这是个男人！&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> sex == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;这是个女人！&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;好像有什么不符合常理的事情发生了！！&quot;</span>)</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;非法的输入&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;这是个人妖！&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>更多的时候，你需要使用raise抛出你自定义的异常，如下面所述!</p>
<h3 id="自定义异常">自定义异常</h3>
<p>Python内置了很多的异常类，并且这些类都是从BaseException类派生的。</p>
<p>下面是一些常见异常类，请把它们记下来！这样你在见到大多数异常的时候都能快速准确的判断异常类型。</p>
<table>
<thead>
<tr>
<th>异常名</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>AttributeError</td>
<td>试图访问一个对象没有的属性</td>
</tr>
<tr>
<td>IOError</td>
<td>输入/输出异常</td>
</tr>
<tr>
<td>ImportError</td>
<td>无法引入模块或包；多是路径问题或名称错误</td>
</tr>
<tr>
<td>IndentationError</td>
<td>缩进错误</td>
</tr>
<tr>
<td>IndexError</td>
<td>下标索引错误</td>
</tr>
<tr>
<td>KeyError</td>
<td>试图访问不存在的键</td>
</tr>
<tr>
<td>KeyboardInterrupt</td>
<td>Ctrl+C被按下，键盘终止输入</td>
</tr>
<tr>
<td>NameError</td>
<td>使用未定义的变量</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>语法错误</td>
</tr>
<tr>
<td>TypeError</td>
<td>传入对象的类型与要求的不符合</td>
</tr>
<tr>
<td>UnboundLocalError</td>
<td>试图访问一个还未被设置的局部变量</td>
</tr>
<tr>
<td>ValueError</td>
<td>传入一个调用者不期望的值，即使值的类型是正确的</td>
</tr>
<tr>
<td>OSError</td>
<td>操作系统执行错误</td>
</tr>
</tbody>
</table>
<p>大多数情况下，上面的内置异常已经够用了，但是有时候你还是需要自定义一些异常。自定义异常应该继承<code>Exception</code>类，直接继承或者间接继承都可以，例如:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyExcept</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, msg</span>):</span><br><span class="line">        self.message = msg</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.message</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">raise</span> MyExcept(<span class="string">&#x27;我的异常!&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> MyExcept <span class="keyword">as</span> ex:</span><br><span class="line">    <span class="built_in">print</span>(ex)　</span><br></pre></td></tr></table></figure>
<p>异常的名字都以<code>Error</code>结尾，我们在为自定义异常命名的时候也需要遵守这一规范，就跟标准的异常命名一样。</p>
<h3 id="模块与包">模块与包</h3>
<p>在编程语言中，代码块、函数、类、模块，一直到包，逐级封装，层层调用。**在Python中，一个<code>.py</code>文件就是一个模块，模块是比类更高一级的封装。**在其他语言，被导入的模块也通常称为库。</p>
<p><strong>模块可以分为自定义模块、内置模块和第三方模块</strong>。自定义模块就是你自己编写的模块，如果你自认水平很高，也可以申请成为Python内置的标准模块之一！如果你在网上发布自己的模块并允许他人使用，那么就变成了第三方模块。内置模块是Python“内置电池”哲学的体现，在安装包里就提供了跨平台的一系列常用库，涉及方方面面。第三方模块的数量非常庞大，有许多非常有名并且影响广泛的模块，比如Django。</p>
<p>使用模块有什么好处？</p>
<ul>
<li>首先，提高了代码的可维护性。</li>
<li>其次，编写代码不必从零开始。当一个模块编写完毕，就可以被其他的模块引用。不要重复造轮子，我们简简单单地使用已经有的模块就好了。</li>
<li>使用模块还可以避免类名、函数名和变量名发生冲突。相同名字的类、函数和变量完全可以分别存在不同的模块中。但是也要注意尽量不要与内置函数名（类名）冲突。</li>
</ul>
<p><strong>为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package），包是模块的集合，比模块又高一级的封装</strong>。没有比包更高级别的封装，但是包可以嵌套包，就像文件目录一样</p>
<p><strong>包名通常为全部小写，避免使用下划线。</strong></p>
<hr>
<p>要在我们的程序中，使用其它的模块（包、类、函数），就必须先导入对应的模块（包、类、函数）。在Python中，模块（包、类、函数）的导入方式有以下四种：</p>
<ul>
<li><code>import xx.xx</code></li>
<li><code>from xx.xx import xx</code></li>
<li><code>from xx.xx import xx as rename</code></li>
<li><code>from xx.xx import *</code></li>
</ul>
<p><strong>对于<code>xx.xx</code>的说明：</strong></p>
<p>由于一个模块可能会被一个包封装起来，而一个包又可能会被另外一个更大的包封装起来，所以我们在导入的时候，需要提供导入对象的绝对路径，也就是<code>“最顶层的包名.次一级包名.（所有级别的包名）.模块名.类名.函数名”</code>。类似文件系统的路径名，只是用圆点分隔的。</p>
<p>有时候，模块名就在搜索路径根目录下，那么可以直接<code>import 模块名</code>，比如Python内置的一些标准模块，<code>os、sys、time</code>等等。</p>
<p>大多数时候，我们不需要直接导入到函数的级别，只需要导入到模块级别或者类的级别，就只需要使用<code>import Django.contrib.auth.models</code>导入models模块，以后使用<code>models.User</code>来引用models模块中的类。</p>
<p>总之，对于<code>xx.xx</code>，你想导入到哪个级别，取决于你的需要，可以灵活调整，没有固定的规则。</p>
<ol>
<li><code>import xx.xx</code></li>
</ol>
<p>这会将对象（这里的对象指的是包、模块、类或者函数，下同）中的所有内容导入。如果该对象是个模块，那么调用对象内的类、函数或变量时，需要以<code>module.xxx</code>的方式。</p>
<p>比如，被导入的模块<code>Module_a</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Module_a.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is module A!&quot;</span>) </span><br></pre></td></tr></table></figure>
<p>在<code>Main.py</code>中导入<code>Module_a</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> module_a</span><br><span class="line"></span><br><span class="line">module_a.func()  <span class="comment"># 调用方法</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li><code>From xx.xx import xx.xx</code></li>
</ol>
<p>从某个对象内导入某个指定的部分到当前命名空间中，不会将整个对象导入。这种方式可以节省写长串导入路径的代码，但要小心名字冲突。</p>
<p>在<code>Main.py</code>中导入<code>Module_a</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> module_a <span class="keyword">import</span> func</span><br><span class="line"></span><br><span class="line">module_a.func()   <span class="comment"># 错误的调用方式</span></span><br><span class="line"></span><br><span class="line">func()  <span class="comment"># 这时需要直接调用func</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li><code>from xx.xx import xx as rename</code></li>
</ol>
<p>为了避免命名冲突，在导入的时候，可以给导入的对象重命名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> module_a <span class="keyword">import</span> func <span class="keyword">as</span> f</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(): <span class="comment">## main模块内部已经有了func函数</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is main module!&quot;</span>)</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line">f()</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><code>from xx.xx import *</code></li>
</ol>
<p>将对象内的所有内容全部导入。非常容易发生命名冲突，请慎用！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> module_a <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;this is main module!&quot;</span>)</span><br><span class="line"></span><br><span class="line">func()  <span class="comment"># 从module导入的func被main的func覆盖了</span></span><br></pre></td></tr></table></figure>
<p>执行结果：<code>this is main module!</code></p>
<p><strong>模块搜索路径</strong></p>
<p>不管你在程序中执行了多少次import，一个模块只会被导入一次。这样可以防止一遍又一遍地导入模块，节省内存和计算资源。那么，当使用import语句的时候，Python解释器是怎样找到对应的文件的呢？</p>
<p><strong>Python根据<code>sys.path</code>的设置，按顺序搜索模块。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path</span><br><span class="line">[<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;C:\\Python36\\Lib\\idlelib&#x27;</span>, <span class="string">&#x27;C:\\Python36\\python36.zip&#x27;</span>, <span class="string">&#x27;C:\\Python36\\DLLs&#x27;</span>, <span class="string">&#x27;C:\\Python36\\lib&#x27;</span>, <span class="string">&#x27;C:\\Python36&#x27;</span>, <span class="string">&#x27;C:\\Python36\\lib\\site-packages&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>当然，这个设置是可以修改的，就像windows系统环境变量中的path一样，可以自定义。 通过<code>sys.path.append('路径')</code>的方法为<code>sys.path</code>路径列表添加你想要的路径。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">new_path = os.path.abspath(<span class="string">&#x27;../&#x27;</span>)</span><br><span class="line">sys.path.append(new_path)</span><br></pre></td></tr></table></figure>
<p>默认情况下，模块的搜索顺序是这样的：</p>
<ol>
<li>当前执行脚本所在目录</li>
<li>Python的安装目录</li>
<li>Python安装目录里的site-packages目录</li>
</ol>
<p>其实就是“自定义”——&gt;“内置”——&gt;“第三方”模块的查找顺序。任何一步查找到了，就会忽略后面的路径，所以模块的放置位置是有区别的。<br>
总结：千万不要和内置模块或常用第三方模块同名！否则，哪怕你认为自己掌控着一切，也有可能会发生各种意想不到的结果！<br>
只有包含<code>__init__.py</code>文件的目录才会被认作是一个包！<code>__init__.py</code>本身就是一个模块，但是要注意，它的模块名是它所在的包名而不是<code>__init__</code>。</p>
<p><em>一个使用第三方模块——openpyxl操作excel的小例子</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> Workbook, load_workbook</span><br><span class="line"></span><br><span class="line">wb1 = load_workbook(<span class="string">&quot;普通学生专业分流成绩-公示.xlsx&quot;</span>)</span><br><span class="line">wb2 = load_workbook(<span class="string">&quot;2022专业分流班级信息列表.xlsx&quot;</span>)</span><br><span class="line">wb3 = Workbook()</span><br><span class="line">sheet = wb3.active</span><br><span class="line">sheet1 = wb1[<span class="string">&quot;sheet1&quot;</span>]</span><br><span class="line">sheet2 = wb2[<span class="string">&quot;全部&quot;</span>]</span><br><span class="line">count = <span class="number">1</span></span><br><span class="line">sheet.append([<span class="string">&quot;排名&quot;</span>, <span class="string">&quot;原排名&quot;</span>, <span class="string">&quot;姓名&quot;</span>, <span class="string">&quot;性别&quot;</span>, <span class="string">&quot;班号&quot;</span>])</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> sheet1.iter_rows(min_row=<span class="number">2</span>, max_row=<span class="number">458</span>, max_col=<span class="number">3</span>):</span><br><span class="line">    name = row[<span class="number">2</span>].value</span><br><span class="line">    <span class="keyword">for</span> row2 <span class="keyword">in</span> sheet2.iter_rows(min_row=<span class="number">356</span>, max_row=<span class="number">459</span>):</span><br><span class="line">        <span class="keyword">if</span> name == row2[<span class="number">2</span>].value:</span><br><span class="line">            sheet.append([count, row[<span class="number">0</span>].value, name, row2[<span class="number">3</span>].value, <span class="built_in">str</span>(row2[<span class="number">5</span>].value)[<span class="number">5</span>]])</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">wb3.save(<span class="string">&quot;2022级网安排名.xlsx&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>常用标准库</strong></p>
<p>Python奉行“内置电池”的哲学，内置了大量、全面、高效和跨平台的标准库，提供了非常丰富的功能，能够满足大多数常见的需求。并且很多都是用C语言编写的，执行速度也很快。</p>
<p>我们应该尽量多学习这些标准库，理解它们、掌握它们然后使用它们，避免重复造轮子，增强我们的开发能力，提高开发速度。</p>
<p>以下为常用的模块：</p>
<ul>
<li>os</li>
<li>sys</li>
<li>subprocess</li>
<li>random</li>
<li>bisect</li>
<li>hashlib</li>
<li>queue</li>
<li>fileinput</li>
<li>shutil</li>
<li>zipfile</li>
<li>tarfile</li>
<li>getpass</li>
<li>shelve</li>
<li>json</li>
<li>pickle</li>
<li>time</li>
<li>datetime</li>
<li>timeit</li>
<li>logging</li>
<li>re</li>
</ul>
<p>具体用法可查看<a target="_blank" rel="noopener" href="https://www.liujiangblog.com/course/python/53">python常用标准库</a></p>
<p><strong>那么到此为止关于python（基础篇）的内容就将结束，当然还有很多方面没有涉猎，包括但不限于python与数据库的联合，多进程协程与异步，web开发与网络爬虫等等，碍于篇幅，今后填坑</strong></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://www.baoyf.com">Oracle</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.baoyf.com/2023/07/22/python/">http://www.baoyf.com/2023/07/22/python/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.baoyf.com" target="_blank">Oracle の blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a></div><div class="post_share"><div class="social-share" data-image="https://img1.imgtp.com/2023/07/30/1Bio7AKP.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/22/Linux/" title="Linux基础学习笔记"><img class="cover" src="https://img1.imgtp.com/2023/07/30/9OkEJfVd.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux基础学习笔记</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/20/NSctf/" title="NSCTF Web方向部分题解"><img class="cover" src="https://w.wallhaven.cc/full/yx/wallhaven-yxg9rg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">NSCTF Web方向部分题解</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/10/python%E7%88%AC%E8%99%AB/" title="python爬虫"><img class="cover" src="https://img1.imgtp.com/2023/08/10/msNrAwFQ.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-10</div><div class="title">python爬虫</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81ODk4MS8zNTQ0Mw=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Oracle</div><div class="author-info__description">我欲因之梦吴越，一夜飞度镜湖月</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Byforacle" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:739640457@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://space.bilibili.com/249646919" target="_blank" title="bilibili"><i class="fa-brands fa-bilibili"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">python基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.1.</span> <span class="toc-text">语法结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%AF%AD%E5%8F%A5%E5%88%86%E9%9A%94%E7%AC%A6"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">1.语句分隔符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%B3%A8%E9%87%8A"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">2.注释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">基本数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">字符串基本操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">字符串序列操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">字符串内置方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.4.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.5.</span> <span class="toc-text">流程控制语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.6.</span> <span class="toc-text">高阶数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E8%A1%A8"><span class="toc-number">1.2.6.1.</span> <span class="toc-text">列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">1.2.6.2.</span> <span class="toc-text">字典</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">1.2.6.3.</span> <span class="toc-text">元组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.7.</span> <span class="toc-text">文件操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%BC%96%E7%A8%8B"><span class="toc-number">1.2.8.</span> <span class="toc-text">函数编程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E7%9F%A5%E8%AF%86"><span class="toc-number">1.3.</span> <span class="toc-text">进阶知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">面向对象编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#property-%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">property()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">1.3.3.</span> <span class="toc-text">异常处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#finally%E5%92%8Celse%E5%AD%90%E5%8F%A5"><span class="toc-number">1.3.4.</span> <span class="toc-text">finally和else子句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%8A%A8%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%EF%BC%9Araise"><span class="toc-number">1.3.5.</span> <span class="toc-text">主动抛出异常：raise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">1.3.6.</span> <span class="toc-text">自定义异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85"><span class="toc-number">1.3.7.</span> <span class="toc-text">模块与包</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/10/13/CISCN/" title="CISCN 国赛web题目复现"><img src="https://img1.imgtp.com/2023/09/22/3KbNYcuk.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CISCN 国赛web题目复现"/></a><div class="content"><a class="title" href="/2023/10/13/CISCN/" title="CISCN 国赛web题目复现">CISCN 国赛web题目复现</a><time datetime="2023-10-13T15:30:00.000Z" title="发表于 2023-10-13 23:30:00">2023-10-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/22/CTFshow/CTFshow4/" title="ctfshow题解-sql注入"><img src="https://img1.imgtp.com/2023/09/22/3KbNYcuk.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ctfshow题解-sql注入"/></a><div class="content"><a class="title" href="/2023/09/22/CTFshow/CTFshow4/" title="ctfshow题解-sql注入">ctfshow题解-sql注入</a><time datetime="2023-09-22T15:30:00.000Z" title="发表于 2023-09-22 23:30:00">2023-09-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/17/Leetcode/Week1-10/" title="Leetcode刷题笔记"><img src="https://img1.imgtp.com/2023/09/17/hXWWV6T7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Leetcode刷题笔记"/></a><div class="content"><a class="title" href="/2023/09/17/Leetcode/Week1-10/" title="Leetcode刷题笔记">Leetcode刷题笔记</a><time datetime="2023-09-17T15:30:00.000Z" title="发表于 2023-09-17 23:30:00">2023-09-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/14/aliyun/" title="本地hexo博客迁移至云服务器教程"><img src="https://img1.imgtp.com/2023/09/17/2Ndn3opJ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="本地hexo博客迁移至云服务器教程"/></a><div class="content"><a class="title" href="/2023/09/14/aliyun/" title="本地hexo博客迁移至云服务器教程">本地hexo博客迁移至云服务器教程</a><time datetime="2023-09-14T10:30:00.000Z" title="发表于 2023-09-14 18:30:00">2023-09-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/21/CTFshow/CTFshow3/" title="ctfshow题解-PHP特性"><img src="https://img1.imgtp.com/2023/08/21/5GdthPv7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ctfshow题解-PHP特性"/></a><div class="content"><a class="title" href="/2023/08/21/CTFshow/CTFshow3/" title="ctfshow题解-PHP特性">ctfshow题解-PHP特性</a><time datetime="2023-08-21T15:30:00.000Z" title="发表于 2023-08-21 23:30:00">2023-08-21</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://img1.imgtp.com/2023/07/30/1Bio7AKP.png')"><div id="footer-wrap"><div class="copyright">&copy;2023 By Oracle</div><div class="footer_custom_text"><div>很高兴认识你😉</div><img src="https://www.z4a.net/images/2023/10/24/logo01.dd7ff50e.png"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=23060502000047"  target="_blank">黑公网安备 23060502000047号</a><div><a href="https://beian.miit.gov.cn/" target="_blank">黑ICP备2023011561号</a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>